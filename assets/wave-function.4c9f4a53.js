var Z=Object.defineProperty;var K=(n,t,e)=>t in n?Z(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var p=(n,t,e)=>(K(n,typeof t!="symbol"?t+"":t,e),e);import{S as L,t as C,X as x,Y as q,V as M,v as G,Z as J,$ as H,O as Q,a0 as V,y as D,z as k,C as S,B as j,A as nn,d as tn,D as en,E as rn,F as sn,I as on,J as cn}from"./app.94bbc7ef.js";import{a as O,d as P,e as an,i as fn,b as un,r as U,u as gn,c as F}from"./route-block.8b6da96f.js";var ln=1/0,$=L?L.prototype:void 0,N=$?$.toString:void 0;function z(n){if(typeof n=="string")return n;if(C(n))return O(n,z)+"";if(P(n))return N?N.call(n):"";var t=n+"";return t=="0"&&1/n==-ln?"-0":t}function hn(n,t,e){var r=-1,i=n.length;t<0&&(t=-t>i?0:i+t),e=e>i?i:e,e<0&&(e+=i),i=t>e?0:e-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+t];return s}function Bn(n){return function(t){return t==null?void 0:t[n]}}function pn(n){return n==null?"":z(n)}var dn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_n=/^\w*$/;function T(n,t){if(C(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||P(n)?!0:_n.test(n)||!dn.test(n)||t!=null&&n in Object(t)}var mn="Expected a function";function y(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(mn);var e=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=e.cache;if(s.has(i))return s.get(i);var c=n.apply(this,r);return e.cache=s.set(i,c)||s,c};return e.cache=new(y.Cache||x),e}y.Cache=x;var wn=500;function An(n){var t=y(n,function(r){return e.size===wn&&e.clear(),r}),e=t.cache;return t}var Cn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vn=/\\(\\)?/g,bn=An(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(Cn,function(e,r,i,s){t.push(i?s.replace(vn,"$1"):r||e)}),t});const On=bn;function I(n,t){return C(n)?n:T(n,t)?[n]:On(pn(n))}var Pn=1/0;function v(n){if(typeof n=="string"||P(n))return n;var t=n+"";return t=="0"&&1/n==-Pn?"-0":t}function E(n,t){t=I(t,n);for(var e=0,r=t.length;n!=null&&e<r;)n=n[v(t[e++])];return e&&e==r?n:void 0}function Tn(n,t){return n!=null&&t in Object(n)}function yn(n,t,e){t=I(t,n);for(var r=-1,i=t.length,s=!1;++r<i;){var c=v(t[r]);if(!(s=n!=null&&e(n,c)))break;n=n[c]}return s||++r!=i?s:(i=n==null?0:n.length,!!i&&q(i)&&M(c,i)&&(C(n)||G(n)))}function In(n,t){return n!=null&&yn(n,t,Tn)}var En=1,Rn=2;function Ln(n,t,e,r){var i=e.length,s=i,c=!r;if(n==null)return!s;for(n=Object(n);i--;){var g=e[i];if(c&&g[2]?g[1]!==n[g[0]]:!(g[0]in n))return!1}for(;++i<s;){g=e[i];var B=g[0],a=n[B],f=g[1];if(c&&g[2]){if(a===void 0&&!(B in n))return!1}else{var l=new J;if(r)var h=r(a,f,B,n,t,l);if(!(h===void 0?H(f,a,En|Rn,r,l):h))return!1}}return!0}function W(n){return n===n&&!Q(n)}function Sn(n){for(var t=V(n),e=t.length;e--;){var r=t[e],i=n[r];t[e]=[r,i,W(i)]}return t}function X(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==void 0||n in Object(e))}}function Fn(n){var t=Sn(n);return t.length==1&&t[0][2]?X(t[0][0],t[0][1]):function(e){return e===n||Ln(e,n,t)}}function $n(n,t,e){var r=n==null?void 0:E(n,t);return r===void 0?e:r}var Nn=1,xn=2;function Mn(n,t){return T(n)&&W(t)?X(v(n),t):function(e){var r=$n(e,n);return r===void 0&&r===t?In(e,n):H(t,r,Nn|xn)}}function Hn(n){return function(t){return E(t,n)}}function Un(n){return T(n)?Bn(v(n)):Hn(n)}function zn(n){return typeof n=="function"?n:n==null?an:typeof n=="object"?C(n)?Mn(n[0],n[1]):Fn(n):Un(n)}var Wn=Math.min;function Xn(n,t,e){for(var r=e?j:nn,i=n[0].length,s=n.length,c=s,g=Array(s),B=1/0,a=[];c--;){var f=n[c];c&&t&&(f=O(f,D(t))),B=Wn(f.length,B),g[c]=!e&&(t||i>=120&&f.length>=120)?new k(c&&f):void 0}f=n[0];var l=-1,h=g[0];n:for(;++l<i&&a.length<B;){var d=f[l],o=t?t(d):d;if(d=e||d!==0?d:0,!(h?S(h,o):r(a,o,e))){for(c=s;--c;){var u=g[c];if(!(u?S(u,o):r(n[c],o,e)))continue n}h&&h.push(o),a.push(d)}}return a}function Yn(n){return fn(n)?n:[]}var Zn=un(function(n){var t=O(n,Yn);return t.length&&t[0]===n[0]?Xn(t):[]});const b=Zn;function Kn(n){var t=n==null?0:n.length;return t?n[t-1]:void 0}function qn(n,t){return t.length<2?n:E(n,hn(t,0,-1))}function Gn(n,t){return t=I(t,n),n=qn(n,t),n==null||delete n[v(Kn(t))]}var Jn=Array.prototype,Qn=Jn.splice;function Vn(n,t){for(var e=n?t.length:0,r=e-1;e--;){var i=t[e];if(e==r||i!==s){var s=i;M(i)?Qn.call(n,i,1):Gn(n,i)}}return n}function Dn(n,t){var e=[];if(!(n&&n.length))return e;var r=-1,i=[],s=n.length;for(t=zn(t);++r<s;){var c=n[r];t(c,r,n)&&(e.push(c),i.push(r))}return Vn(n,i),e}const kn="/p5-demo/assets/0.a4a0025d.png",jn="/p5-demo/assets/1.e3775723.png",nt="/p5-demo/assets/10.c013d4d1.png",tt="/p5-demo/assets/11.5cc6b76c.png",et="/p5-demo/assets/12.6ad08b8e.png",it="/p5-demo/assets/2.7b6a400b.png",rt="/p5-demo/assets/3.27c3842e.png",st="/p5-demo/assets/4.d69944e6.png",ot="/p5-demo/assets/5.68f15ffa.png",ct="/p5-demo/assets/6.6c52bb20.png",at="/p5-demo/assets/7.99ee0dc9.png",ft="/p5-demo/assets/8.aea8546e.png",ut="/p5-demo/assets/9.1ebbcb71.png";function gt(n,t){return n===[...t].reverse().join("")}var Y=(n=>(n[n.TOP=0]="TOP",n[n.RIGHT=1]="RIGHT",n[n.BOTTOM=2]="BOTTOM",n[n.LEFT=3]="LEFT",n))(Y||{});class R{constructor(t,e){p(this,"img");p(this,"edges");p(this,"top");p(this,"right");p(this,"bottom");p(this,"left");this.img=t,this.edges=e,this.top=[],this.right=[],this.bottom=[],this.left=[]}analyze(t){t.forEach((e,r)=>{[0,1,2,3].forEach((i,s)=>{gt(this.edges[s],e.edges[(s+2)%4])&&this[Y[i].toLowerCase()].push(r)})})}rotate(t,e){const r=this.img.width,i=this.img.height,s=t.createGraphics(r,i);s.imageMode(t.CENTER),s.translate(r/2,i/2),s.rotate(t.HALF_PI*e),s.image(this.img,0,0);const c=s.get();s.remove();const g=this.edges.length;return new R(c,this.edges.map((B,a)=>this.edges[(a-e+g)%g]))}}class lt{constructor(t,e,r){p(this,"collapsed");p(this,"options");p(this,"row");p(this,"col");this.collapsed=!1,this.row=e,this.col=r,this.options=Array.isArray(t)?t:U(t)}}function ht(n,t,e,r,i){const s=[],c=[],g=[];function B(){for(let a=0;a<i;a++)for(let f=0;f<i;f++){const l=f+a*i;c[l]=new lt(s.length,a,f)}}n.preload=()=>{t.forEach(a=>{const f=n.loadImage(a);g.push(f)})},n.setup=()=>{n.createCanvas(r.clientWidth,r.clientHeight),n.background(0),g.forEach((a,f)=>{const l=new R(a,e[f][0]);s.push(l),e[f][1].forEach(h=>{s.push(l.rotate(n,h))})}),s.forEach(a=>{a.analyze(s)}),B()},n.draw=()=>{n.background(0);const a=n.width/i,f=n.height/i;c.forEach(o=>{if(o.collapsed){const u=o.options[0];n.image(s[u].img,o.col*a,o.row*f,a,f)}else n.noFill(),n.stroke(255,0,0),n.rect(o.col*a,o.row*f,a,f)});const l=c.filter(o=>!o.collapsed);if(l.length===0){n.noLoop();return}l.sort((o,u)=>o.options.length-u.options.length),Dn(l,o=>o.options.length>l[0].options.length);const h=n.random(l);h.collapsed=!0;const d=n.random(h.options);if(!d){B();return}h.options=[d],c.filter(o=>!o.collapsed).forEach(o=>{const u=[[],[],[],[]];let _=U(s.length);if(o.row>0){const m=c[o.col+(o.row-1)*i];for(const w of m.options){const A=s[w].bottom;u[0]=u[0].concat(A)}_=b(_,u[0])}if(o.col<i-1){const m=c[o.col+1+o.row*i];for(const w of m.options){const A=s[w].left;u[1]=u[1].concat(A)}_=b(_,u[1])}if(o.row<i-1){const m=c[o.col+(o.row+1)*i];for(const w of m.options){const A=s[w].top;u[2]=u[2].concat(A)}_=b(_,u[2])}if(o.col>0){const m=c[o.col-1+o.row*i];for(const w of m.options){const A=s[w].right;u[3]=u[3].concat(A)}_=b(_,u[3])}o.options=_})}}const Bt={class:"p-5 h-full"},pt=tn({__name:"wave-function",setup(n){en({title:"wave-function"});const t=new Array(13).fill(0).map((r,i)=>new URL(Object.assign({"../assets/circuit-coding-train/0.png":kn,"../assets/circuit-coding-train/1.png":jn,"../assets/circuit-coding-train/10.png":nt,"../assets/circuit-coding-train/11.png":tt,"../assets/circuit-coding-train/12.png":et,"../assets/circuit-coding-train/2.png":it,"../assets/circuit-coding-train/3.png":rt,"../assets/circuit-coding-train/4.png":st,"../assets/circuit-coding-train/5.png":ot,"../assets/circuit-coding-train/6.png":ct,"../assets/circuit-coding-train/7.png":at,"../assets/circuit-coding-train/8.png":ft,"../assets/circuit-coding-train/9.png":ut})[`../assets/circuit-coding-train/${i}.png`],self.location).href),{el:e}=gn(r=>{const i=on(e);ht(r,t,[[["AAA","AAA","AAA","AAA"],[1,2,3]],[["BBB","BBB","BBB","BBB"],[]],[["BBB","BCB","BBB","BBB"],[1,2,3]],[["BBB","BDB","BBB","BDB"],[1]],[["ABB","BCB","BBA","AAA"],[1,2,3]],[["ABB","BBB","BBB","BBA"],[1,2,3]],[["BBB","BCB","BBB","BCB"],[1]],[["BDB","BCB","BDB","BCB"],[1]],[["BDB","BBB","BCB","BBB"],[1,2,3]],[["BCB","BCB","BBB","BCB"],[1,2,3]],[["BCB","BCB","BCB","BCB"],[1]],[["BCB","BBB","BBB","BCB"],[1,2,3]],[["BBB","BCB","BBB","BCB"],[1]]],i,10)});return(r,i)=>(cn(),rn("div",Bt,[sn("div",{ref_key:"el",ref:e,class:"w-full h-full"},null,512)]))}});typeof F=="function"&&F(pt);export{pt as default};
