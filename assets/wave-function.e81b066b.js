var Z=Object.defineProperty;var K=(n,t,e)=>t in n?Z(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var p=(n,t,e)=>(K(n,typeof t!="symbol"?t+"":t,e),e);import{a as O,d as P,e as q,i as G,b as J,r as x,u as Q,c as L}from"./route-block.db8c99e8.js";import{S,t as C,W as M,X as D,U,v as V,Y as k,Z as H,N as j,$ as nn,y as tn,z as en,C as F,B as rn,A as sn,d as on,D as cn,E as an,H as fn,I as un}from"./app.563b5027.js";var gn=1/0,N=S?S.prototype:void 0,$=N?N.toString:void 0;function z(n){if(typeof n=="string")return n;if(C(n))return O(n,z)+"";if(P(n))return $?$.call(n):"";var t=n+"";return t=="0"&&1/n==-gn?"-0":t}function ln(n,t,e){var r=-1,i=n.length;t<0&&(t=-t>i?0:i+t),e=e>i?i:e,e<0&&(e+=i),i=t>e?0:e-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+t];return s}function hn(n){return function(t){return t==null?void 0:t[n]}}function Bn(n){return n==null?"":z(n)}var pn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dn=/^\w*$/;function T(n,t){if(C(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||P(n)?!0:dn.test(n)||!pn.test(n)||t!=null&&n in Object(t)}var _n="Expected a function";function y(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(_n);var e=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=e.cache;if(s.has(i))return s.get(i);var c=n.apply(this,r);return e.cache=s.set(i,c)||s,c};return e.cache=new(y.Cache||M),e}y.Cache=M;var mn=500;function An(n){var t=y(n,function(r){return e.size===mn&&e.clear(),r}),e=t.cache;return t}var wn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cn=/\\(\\)?/g,vn=An(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(wn,function(e,r,i,s){t.push(i?s.replace(Cn,"$1"):r||e)}),t});const bn=vn;function I(n,t){return C(n)?n:T(n,t)?[n]:bn(Bn(n))}var On=1/0;function v(n){if(typeof n=="string"||P(n))return n;var t=n+"";return t=="0"&&1/n==-On?"-0":t}function E(n,t){t=I(t,n);for(var e=0,r=t.length;n!=null&&e<r;)n=n[v(t[e++])];return e&&e==r?n:void 0}function Pn(n,t){return n!=null&&t in Object(n)}function Tn(n,t,e){t=I(t,n);for(var r=-1,i=t.length,s=!1;++r<i;){var c=v(t[r]);if(!(s=n!=null&&e(n,c)))break;n=n[c]}return s||++r!=i?s:(i=n==null?0:n.length,!!i&&D(i)&&U(c,i)&&(C(n)||V(n)))}function yn(n,t){return n!=null&&Tn(n,t,Pn)}var In=1,En=2;function Rn(n,t,e,r){var i=e.length,s=i,c=!r;if(n==null)return!s;for(n=Object(n);i--;){var g=e[i];if(c&&g[2]?g[1]!==n[g[0]]:!(g[0]in n))return!1}for(;++i<s;){g=e[i];var B=g[0],a=n[B],f=g[1];if(c&&g[2]){if(a===void 0&&!(B in n))return!1}else{var l=new k;if(r)var h=r(a,f,B,n,t,l);if(!(h===void 0?H(f,a,In|En,r,l):h))return!1}}return!0}function W(n){return n===n&&!j(n)}function Ln(n){for(var t=nn(n),e=t.length;e--;){var r=t[e],i=n[r];t[e]=[r,i,W(i)]}return t}function X(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==void 0||n in Object(e))}}function Sn(n){var t=Ln(n);return t.length==1&&t[0][2]?X(t[0][0],t[0][1]):function(e){return e===n||Rn(e,n,t)}}function Fn(n,t,e){var r=n==null?void 0:E(n,t);return r===void 0?e:r}var Nn=1,$n=2;function xn(n,t){return T(n)&&W(t)?X(v(n),t):function(e){var r=Fn(e,n);return r===void 0&&r===t?yn(e,n):H(t,r,Nn|$n)}}function Mn(n){return function(t){return E(t,n)}}function Un(n){return T(n)?hn(v(n)):Mn(n)}function Hn(n){return typeof n=="function"?n:n==null?q:typeof n=="object"?C(n)?xn(n[0],n[1]):Sn(n):Un(n)}var zn=Math.min;function Wn(n,t,e){for(var r=e?rn:sn,i=n[0].length,s=n.length,c=s,g=Array(s),B=1/0,a=[];c--;){var f=n[c];c&&t&&(f=O(f,tn(t))),B=zn(f.length,B),g[c]=!e&&(t||i>=120&&f.length>=120)?new en(c&&f):void 0}f=n[0];var l=-1,h=g[0];n:for(;++l<i&&a.length<B;){var d=f[l],o=t?t(d):d;if(d=e||d!==0?d:0,!(h?F(h,o):r(a,o,e))){for(c=s;--c;){var u=g[c];if(!(u?F(u,o):r(n[c],o,e)))continue n}h&&h.push(o),a.push(d)}}return a}function Xn(n){return G(n)?n:[]}var Yn=J(function(n){var t=O(n,Xn);return t.length&&t[0]===n[0]?Wn(t):[]});const b=Yn;function Zn(n){var t=n==null?0:n.length;return t?n[t-1]:void 0}function Kn(n,t){return t.length<2?n:E(n,ln(t,0,-1))}function qn(n,t){return t=I(t,n),n=Kn(n,t),n==null||delete n[v(Zn(t))]}var Gn=Array.prototype,Jn=Gn.splice;function Qn(n,t){for(var e=n?t.length:0,r=e-1;e--;){var i=t[e];if(e==r||i!==s){var s=i;U(i)?Jn.call(n,i,1):qn(n,i)}}return n}function Dn(n,t){var e=[];if(!(n&&n.length))return e;var r=-1,i=[],s=n.length;for(t=Hn(t);++r<s;){var c=n[r];t(c,r,n)&&(e.push(c),i.push(r))}return Qn(n,i),e}const Vn="/p5-demo/assets/0.a4a0025d.png",kn="/p5-demo/assets/1.e3775723.png",jn="/p5-demo/assets/10.c013d4d1.png",nt="/p5-demo/assets/11.5cc6b76c.png",tt="/p5-demo/assets/12.6ad08b8e.png",et="/p5-demo/assets/2.7b6a400b.png",it="/p5-demo/assets/3.27c3842e.png",rt="/p5-demo/assets/4.d69944e6.png",st="/p5-demo/assets/5.68f15ffa.png",ot="/p5-demo/assets/6.6c52bb20.png",ct="/p5-demo/assets/7.99ee0dc9.png",at="/p5-demo/assets/8.aea8546e.png",ft="/p5-demo/assets/9.1ebbcb71.png";function ut(n,t){return n===[...t].reverse().join("")}var Y=(n=>(n[n.TOP=0]="TOP",n[n.RIGHT=1]="RIGHT",n[n.BOTTOM=2]="BOTTOM",n[n.LEFT=3]="LEFT",n))(Y||{});class R{constructor(t,e){p(this,"img");p(this,"edges");p(this,"top");p(this,"right");p(this,"bottom");p(this,"left");this.img=t,this.edges=e,this.top=[],this.right=[],this.bottom=[],this.left=[]}analyze(t){t.forEach((e,r)=>{[0,1,2,3].forEach((i,s)=>{ut(this.edges[s],e.edges[(s+2)%4])&&this[Y[i].toLowerCase()].push(r)})})}rotate(t,e){const r=this.img.width,i=this.img.height,s=t.createGraphics(r,i);s.imageMode(t.CENTER),s.translate(r/2,i/2),s.rotate(t.HALF_PI*e),s.image(this.img,0,0);const c=s.get();s.remove();const g=this.edges.length;return new R(c,this.edges.map((B,a)=>this.edges[(a-e+g)%g]))}}class gt{constructor(t,e,r){p(this,"collapsed");p(this,"options");p(this,"row");p(this,"col");this.collapsed=!1,this.row=e,this.col=r,this.options=Array.isArray(t)?t:x(t)}}function lt(n,t,e,r,i){const s=[],c=[],g=[];function B(){for(let a=0;a<i;a++)for(let f=0;f<i;f++){const l=f+a*i;c[l]=new gt(s.length,a,f)}}n.preload=()=>{t.forEach(a=>{const f=n.loadImage(a);g.push(f)})},n.setup=()=>{n.createCanvas(r.clientWidth,r.clientHeight),n.background(0),g.forEach((a,f)=>{const l=new R(a,e[f][0]);s.push(l),e[f][1].forEach(h=>{s.push(l.rotate(n,h))})}),s.forEach(a=>{a.analyze(s)}),B()},n.draw=()=>{n.background(0);const a=n.width/i,f=n.height/i;c.forEach(o=>{if(o.collapsed){const u=o.options[0];n.image(s[u].img,o.col*a,o.row*f,a,f)}else n.noFill(),n.stroke(255,0,0),n.rect(o.col*a,o.row*f,a,f)});const l=c.filter(o=>!o.collapsed);if(l.length===0){n.noLoop();return}l.sort((o,u)=>o.options.length-u.options.length),Dn(l,o=>o.options.length>l[0].options.length);const h=n.random(l);h.collapsed=!0;const d=n.random(h.options);if(!d){B();return}h.options=[d],c.filter(o=>!o.collapsed).forEach(o=>{const u=[[],[],[],[]];let _=x(s.length);if(o.row>0){const m=c[o.col+(o.row-1)*i];for(const A of m.options){const w=s[A].bottom;u[0]=u[0].concat(w)}_=b(_,u[0])}if(o.col<i-1){const m=c[o.col+1+o.row*i];for(const A of m.options){const w=s[A].left;u[1]=u[1].concat(w)}_=b(_,u[1])}if(o.row<i-1){const m=c[o.col+(o.row+1)*i];for(const A of m.options){const w=s[A].top;u[2]=u[2].concat(w)}_=b(_,u[2])}if(o.col>0){const m=c[o.col-1+o.row*i];for(const A of m.options){const w=s[A].right;u[3]=u[3].concat(w)}_=b(_,u[3])}o.options=_})}}const ht={class:"p-5 h-full"},Bt=on({__name:"wave-function",setup(n){const t=new Array(13).fill(0).map((r,i)=>new URL(Object.assign({"../assets/circuit-coding-train/0.png":Vn,"../assets/circuit-coding-train/1.png":kn,"../assets/circuit-coding-train/10.png":jn,"../assets/circuit-coding-train/11.png":nt,"../assets/circuit-coding-train/12.png":tt,"../assets/circuit-coding-train/2.png":et,"../assets/circuit-coding-train/3.png":it,"../assets/circuit-coding-train/4.png":rt,"../assets/circuit-coding-train/5.png":st,"../assets/circuit-coding-train/6.png":ot,"../assets/circuit-coding-train/7.png":ct,"../assets/circuit-coding-train/8.png":at,"../assets/circuit-coding-train/9.png":ft})[`../assets/circuit-coding-train/${i}.png`],self.location).href),{el:e}=Q(r=>{const i=fn(e);lt(r,t,[[["AAA","AAA","AAA","AAA"],[1,2,3]],[["BBB","BBB","BBB","BBB"],[]],[["BBB","BCB","BBB","BBB"],[1,2,3]],[["BBB","BDB","BBB","BDB"],[1]],[["ABB","BCB","BBA","AAA"],[1,2,3]],[["ABB","BBB","BBB","BBA"],[1,2,3]],[["BBB","BCB","BBB","BCB"],[1]],[["BDB","BCB","BDB","BCB"],[1]],[["BDB","BBB","BCB","BBB"],[1,2,3]],[["BCB","BCB","BBB","BCB"],[1,2,3]],[["BCB","BCB","BCB","BCB"],[1]],[["BCB","BBB","BBB","BCB"],[1,2,3]],[["BBB","BCB","BBB","BCB"],[1]]],i,10)});return(r,i)=>(un(),cn("div",ht,[an("div",{ref_key:"el",ref:e,class:"w-full h-full"},null,512)]))}});typeof L=="function"&&L(Bt);export{Bt as default};
